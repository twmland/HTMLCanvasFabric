<!doctype html>

<html>
<!--自訂控制項-->
<script src='https://cdn.bootcss.com/fabric.js/4.0.0-beta.5/fabric.js'></script>
<head>
    
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

   <title>
     以 fabric.js 套件在畫布上新增控制頁 
   </title>
   <script>
    var canvas=null;
		var draw =null;
		
		function MyDraw(canvasId){
		  /**
       * @property canvasId 畫布 ID
       */ 
       this.canvasId=canvasId; 
       
       this.canvas=new fabric(canvasId);
       this.getName=function(){
			     return this.name;
			 };
			 this.setName=function(name){
			       this.name=name;
			 };
			 
			 /**
			 *
			 */
			 this.getCanvasObject=function(){
			     var objects=canvas.getObjects();
				 var json=JSON.stringify(objects);
				 console.log("Canvas:" + canvas);
                 console.log("Objects:" +objects);
				 console.log('Objects Json:' + json);
   			 	 
			 };
			
		}
		_fabric=new MyFabric();
   </script>
   
</head>
<body>
<div class='mt-3 ml-3' style='width:100%'>
   <fieldset class='border rounded mr-5'>
       <legend>Buttons</legend>
       <button class='btn btn-info' onclick='_fabric.getCanvasObject()'>取得畫布上所有物件</button>&nbsp;
	   <button class='btn btn-info' onclick='createHollowRect()'>產生空心矩型</button>&nbsp;
   </fieldset>
 </div>
 <div>
  <canvas id='canvas' class='border rounded mt-1' style='width:100%' >

  </canvas>
   
  
   
</div> 



<script>
// 新增一個畫布, 並設定畫布
canvas=new fabric.Canvas('canvas', {
  height:  window.innerHeight-100, // 讓畫布同視窗大小
  width:  window.innerWidth-60, // 讓畫布同視窗大小
  //height:  600, 
  //width:  700, 
  isDrawingMode: true, // 設置成 true 一秒變身小畫家
  hoverCursor: 'progress', // 移動時鼠標顯示
  freeDrawingCursor: 'all-scroll', // 畫畫模式時鼠標模式
  backgroundColor: 'lightgray', // 背景色,
  //backgroundImage: 'https://www.pakutaso.com/shared/img/thumb/neko1869IMG_9074_TP_V.jpg' // 背景圖片
});



// add a Rect(四邉形)


var a1=new MyFabric();
var a2=new MyFabric();

window.alert(a1.ppp);
</script>
</body>
</html>